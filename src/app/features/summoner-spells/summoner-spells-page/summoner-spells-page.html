<!-- summoner-spells-page.html -->
<div class="spells-container">

  <!-- ✅ Keep header exactly as-is -->
  <app-header-search
    [title]="'League of Legends'"
    [subtitle]="'Summoner Spells Database'"
    [placeholder]="'Search spells...'"
    [loading]="loading()"
    [control]="filters.controls.q"
    (submit)="reload()">
  </app-header-search>

  <!-- Main Content -->
  <main class="main-content">
    <section class="center-col">
      <!-- ✅ Material Stats Card (same width as grid) -->
      <mat-card class="stats-card" appearance="outlined">
        <div class="stat-item-centered">
          <span class="stat-number">{{ rows().length }}</span>
          <span class="stat-label">SPELLS FOUND</span>
        </div>
      </mat-card>

      <!-- Error State -->
      <div *ngIf="error()" class="alert alert-error">
        <span>⚠️ {{ error() }}</span>
      </div>

      <!-- Empty State -->
      <div *ngIf="!loading() && rows().length === 0 && !error()" class="empty-state">
        <div class="empty-icon">✨</div>
        <h3>No Spells Found</h3>
        <p>Try adjusting your search filters</p>
      </div>

      <ag-grid-angular
  class="ag-theme-quartz"
  style="width:100%; min-height: 320px;
         --ag-background-color:#151719;
         --ag-header-background-color:#1b1e22;
         --ag-odd-row-background-color:#171a1e;
         --ag-even-row-background-color:#151719;
         --ag-row-hover-color:#20242a;
         --ag-selected-row-background-color:#28303a;
         --ag-foreground-color:#e8eaed;
         --ag-border-color:#2a2f36;
         --ag-input-focus-border-color:#6aa0ff;
         --ag-accent-color:#6aa0ff;"
  [domLayout]="'autoHeight'"
  [rowData]="rows()"
  [columnDefs]="columns.slice()"
  [rowHeight]="56"
  [pagination]="true"
  [paginationPageSize]="10"
  [paginationPageSizeSelector]="[10, 15, 20, 50]"
  [suppressMovableColumns]="true"
  [animateRows]="true"
  [suppressHorizontalScroll]="false"
  (cellClicked)="onCellClicked($event)">
</ag-grid-angular>


    </section>


    <!-- (Optional) Loading overlay to match other pages -->
    <div class="loading-overlay" *ngIf="loading()">
      <mat-progress-spinner mode="indeterminate" diameter="48"></mat-progress-spinner>
      <span>Loading spells…</span>
    </div>
  </main>
</div>
